<UserControl
	x:Class="CipherPad.Views.PasswordView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:base="RW.Base.WPF"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
	xmlns:hc="https://handyorg.github.io/handycontrol"
	xmlns:local="clr-namespace:CipherPad.Views"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	d:DataContext="{d:DesignInstance Type=local:PasswordViewModel}"
	d:DesignHeight="450"
	d:DesignWidth="800"
	mc:Ignorable="d">

	<dxmvvm:Interaction.Behaviors>
		<dxmvvm:OpenFileDialogService/>
		<dxmvvm:SaveFileDialogService/>
	</dxmvvm:Interaction.Behaviors>

	<Grid>
		<DockPanel>

			<Grid>

				<Border Visibility="{Binding ShouldEnterPassword, Converter={StaticResource Boolean2VisibilityConverter}}">
					<hc:UniformSpacingPanel
						HorizontalAlignment="Center"
						VerticalAlignment="Center"
						Orientation="Vertical"
						VerticalSpacing="8">

						<hc:PasswordBox
							Width="250"
							hc:InfoElement.Placeholder="Enter password here"
							hc:InfoElement.ShowClearButton="True"
							IsSafeEnabled="False"
							ShowEyeButton="True"
							UnsafePassword="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
							<dxmvvm:Interaction.Behaviors>
								<dxmvvm:EventToCommand Command="{Binding PasswordBoxKeyDownCommand}" EventName="PreviewKeyDown" PassEventArgsToCommand="True"/>
							</dxmvvm:Interaction.Behaviors>
						</hc:PasswordBox>

						<Button Style="{StaticResource ButtonPrimary}" Command="{Binding ConfirmPasswordCommand}" Content="Confirm"/>

					</hc:UniformSpacingPanel>
				</Border>



				<Border Visibility="{Binding ShouldEnterPassword, Converter={StaticResource Boolean2VisibilityReConverter}}">
					<TextBox
						Padding="6,4"
						VerticalContentAlignment="Top"
						BorderThickness="0"
						hc:ScrollViewerAttach.AutoHide="False"
						AcceptsReturn="True"
						AcceptsTab="True"
						VerticalScrollBarVisibility="Auto"/>
				</Border>




			</Grid>
		</DockPanel>
	</Grid>

</UserControl>
