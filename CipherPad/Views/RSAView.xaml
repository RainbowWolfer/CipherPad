<UserControl
	x:Class="CipherPad.Views.RSAView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:base="RW.Base.WPF"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
	xmlns:hc="https://handyorg.github.io/handycontrol"
	xmlns:local="clr-namespace:CipherPad.Views"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:wpf="RW.Common.WPF"
	d:DataContext="{d:DesignInstance Type=local:RSAViewModel}"
	d:DesignHeight="450"
	d:DesignWidth="800"
	mc:Ignorable="d">

	<dxmvvm:Interaction.Behaviors>
		<dxmvvm:OpenFileDialogService/>
		<dxmvvm:SaveFileDialogService/>

		<dxmvvm:MessageBoxService/>

	</dxmvvm:Interaction.Behaviors>

	<Grid>


		<Border Visibility="{Binding ShouldSelectPrivateKey, Converter={StaticResource Boolean2VisibilityConverter}}">
			<hc:UniformSpacingPanel
				HorizontalAlignment="Center"
				VerticalAlignment="Center"
				Orientation="Vertical"
				VerticalSpacing="8">

				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="8"/>
						<ColumnDefinition Width="auto"/>
					</Grid.ColumnDefinitions>

					<hc:TextBox
						Width="250"
						hc:InfoElement.Placeholder="Select private key file"
						IsReadOnly="True"
						Text="{Binding PrivateKeyFilePath}"/>

					<Button Grid.Column="2" Command="{Binding OpenPrivateKeyFileCommand}" ToolTip="Pick file">
						<wpf:FontIcon Text="&#xE8E5;"/>
					</Button>
				</Grid>

				<Button Style="{StaticResource ButtonPrimary}" Command="{Binding ConfirmCommand}" Content="Confirm"/>

			</hc:UniformSpacingPanel>
		</Border>

		<Border Visibility="{Binding ShouldSelectPrivateKey, Converter={StaticResource Boolean2VisibilityReConverter}}">
			<TextBox
				Padding="6,4"
				VerticalContentAlignment="Top"
				BorderThickness="0"
				hc:ScrollViewerAttach.AutoHide="False"
				AcceptsReturn="True"
				AcceptsTab="True"
				HorizontalScrollBarVisibility="Auto"
				Text="{Binding ViewText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
				VerticalScrollBarVisibility="Auto">
				<dxmvvm:Interaction.Behaviors>

				</dxmvvm:Interaction.Behaviors>
			</TextBox>
		</Border>

	</Grid>

</UserControl>
